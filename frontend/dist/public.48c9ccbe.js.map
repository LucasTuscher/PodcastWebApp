{"mappings":"AAAA,eAAe,eAAe,WAAW,EAAE,WAAW,EAAE,kBAAkB;IACtE,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,sEAAsE;YAC/F,QAAQ;YACR,SAAS;gBACL,UAAU;gBACV,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;gBACjB;gBACA;gBACA;YACJ;YACA,aAAa;QACjB;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,MAAM,eAAe,SAAS,aAAa,CAAC;QAE5C,IAAI,SAAS,EAAE,EAAE;YACb,aAAa,WAAW,GAAG;YAC3B,uBAAuB;YACvB,SAAS,aAAa,CAAC,wDAAwD,KAAK,GAAG;YACvF,SAAS,aAAa,CAAC,wDAAwD,KAAK,GAAG;YACvF,SAAS,aAAa,CAAC,+DAA+D,KAAK,GAAG;YAC9F,QAAQ,GAAG,CAAC;YACZ,OAAO,MAAO,qBAAqB;QACvC,OAAO;YACH,QAAQ,KAAK,CAAC,kBAAkB;YAChC,OAAO,OAAO,qBAAqB;QACvC;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,OAAO,OAAO,qBAAqB;IACvC;AACJ;AAEA,SAAS;IACL,MAAM,OAAO,SAAS,aAAa,CAAC;IACpC,MAAM,eAAe,SAAS,aAAa,CAAC;IAC5C,MAAM,uBAAuB,SAAS,aAAa,CAAC;IAEpD,IAAI,CAAC,QAAQ,CAAC,sBAAsB;QAChC,QAAQ,KAAK,CAAC;QACd;IACJ;IAEA,qBAAqB,OAAO,GAAG;QAC3B,aAAa,WAAW,GAAG,IAAI,yBAAyB;QAExD,MAAM,cAAc,KAAK,aAAa,CAAC,yDAAyD;QAChG,MAAM,cAAc,KAAK,aAAa,CAAC,yDAAyD;QAChG,MAAM,qBAAqB,KAAK,aAAa,CAAC,gEAAgE;QAE9G,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,oBAAoB;YACrD,aAAa,WAAW,GAAG;YAC3B;QACJ;QAEA,IAAI,YAAY,MAAM,GAAG,GAAG;YACxB,aAAa,WAAW,GAAG;YAC3B;QACJ;QAEA,IAAI,gBAAgB,oBAAoB;YACpC,aAAa,WAAW,GAAG;YAC3B;QACJ;QAEA,IAAI;YACA,MAAM,UAAU,MAAM,eAAe,aAAa,aAAa;YAE/D,IAAI,SACA,aAAa,WAAW,GAAG;iBAE3B,aAAa,WAAW,GAAG;QAEnC,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,wCAAqC;YACnD,aAAa,WAAW,GAAG;QAC/B;IACJ;AACJ","sources":["public/js/account/changePassword.js"],"sourcesContent":["async function changePassword(altpassword, newpassword, newpasswordConfirm) {\n    try {\n        const response = await fetch('https://webengineering.ins.hs-anhalt.de:10062/auth/change-password', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                altpassword,\n                newpassword,\n                newpasswordConfirm\n            }),\n            credentials: 'include'\n        });\n\n        const data = await response.json();\n        const notification = document.querySelector('.account-administration-mypassword-notifications');\n\n        if (response.ok) {\n            notification.textContent = 'Passwort erfolgreich geändert!';\n            // Eingabefelder leeren\n            document.querySelector('.account-administration-mypassword-input-altpassword').value = '';\n            document.querySelector('.account-administration-mypassword-input-newpassword').value = '';\n            document.querySelector('.account-administration-mypassword-input-newpasswordConfirm').value = '';\n            console.log(\"User Interaktion Log: Das Passwort wurde erfolgreich geändert!\");\n            return true;  // Erfolg zurückgeben\n        } else {\n            console.error('Server-Fehler:', data);\n            return false; // Fehler zurückgeben\n        }\n    } catch (error) {\n        console.error('Netzwerk- oder Serverproblem:', error);\n        return false; // Fehler zurückgeben\n    }\n}\n\nfunction setPasswordChangeFormListener() {\n    const form = document.querySelector('.account-administration-mypassword-form');\n    const notification = document.querySelector('.account-administration-mypassword-notifications');\n    const changePasswordButton = document.querySelector('.account-administration-mypassword-button-password-change');\n\n    if (!form || !changePasswordButton) {\n        console.error('Fehler: Das Passwortänderungsformular oder der Button wurde nicht gefunden.');\n        return;\n    }\n\n    changePasswordButton.onclick = async function () {\n        notification.textContent = ''; // Nachricht zurücksetzen\n\n        const altpassword = form.querySelector('.account-administration-mypassword-input-altpassword')?.value;\n        const newpassword = form.querySelector('.account-administration-mypassword-input-newpassword')?.value;\n        const newpasswordConfirm = form.querySelector('.account-administration-mypassword-input-newpasswordConfirm')?.value;\n\n        if (!altpassword || !newpassword || !newpasswordConfirm) {\n            notification.textContent = 'Bitte alle Felder ausfüllen.';\n            return;\n        }\n\n        if (newpassword.length < 6) {\n            notification.textContent = 'Das neue Passwort muss mindestens 6 Zeichen lang sein.';\n            return;\n        }\n\n        if (newpassword !== newpasswordConfirm) {\n            notification.textContent = 'Die neuen Passwörter stimmen nicht überein.';\n            return;\n        }\n\n        try {\n            const success = await changePassword(altpassword, newpassword, newpasswordConfirm);\n\n            if (success) {\n                notification.textContent = 'Passwort erfolgreich geändert!';\n            } else {\n                notification.textContent = 'Das alte Passwort ist falsch oder ein Fehler ist aufgetreten.';\n            }\n        } catch (error) {\n            console.error('Fehler beim Ändern des Passworts:', error);\n            notification.textContent = 'Es gab ein Problem beim Ändern des Passworts.';\n        }\n    };\n}"],"names":[],"version":3,"file":"public.48c9ccbe.js.map","sourceRoot":"/__parcel_source_root/"}